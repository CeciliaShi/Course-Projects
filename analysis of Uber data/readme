We picked September 2014 to do the analysis. After reading in and cleaning the data frame, we created three functions called “heat_pickup”, “heat_dropoff” and “uber_pickup” to generate the specific data frames for plotting. All of the three functions have a logical argument “HOUR”, which controls whether to add an extra column about rush hour or not. If it is set to false, task 1 is performed. If it is set to true, task 2 is performed. We also rounded the latitude and longitude by multiplying by 1000. When we were plotting the data, we set the alpha based on log(n)/max(log(n)), Therefore, more pickups/drop-offs will be more opaque. Dividing by the maximum value ensures that the alphas are between 0 and 1. Taking log can help transform the alphas into reasonable values (the alphas are not too large or too small).
